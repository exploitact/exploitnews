What equipment am I using in my HomeLab 

I started building my HomeLab last month in November. I bought most of my equipment during Black Friday and Cyber Monday since the deals were decent. 

##Firewall/router: 
For my firewall/router/gateway, I decided to use an old PC from 5 years ago. It was running an AMD E-350 APU with Radeon(tm) HD Graphics with 2 CPUs. I did do one upgrade which was to buy a 1gb PCI Network Adapter. I went with an open-source firewall from researching the subreddit homelab. Most people went with Pfsense so I followed. Pfsense requires two ethernet ports. One for LAN and one for WAN, therefore I needed a Network Adapter to have two ethernet ports. I recommend getting a 4 port Intel Network Adapter for more expansion in the future. They should run for about $50-$70 on Ebay. 

The minimum hardware requirements for Pfsense are a 64-bit amd64 (x86-64) compatible CPU, 1GB or more RAM, 8 GB or larger disk drive (SSD, HDD, etc). Running on a bare-metal machine is better than virtualizing Pfsense in a Hypervisor because if you need to reboot or shutdown your server, your internet will go down. 

##Switch: 
For my switch, I decided to go with TP-Link TL-SG3428 | 24 Port Gigabit Switch, 4 SFP Slots. This switch is decent and has full Layer 2 capabilities with some Layer 3 functions as well. I should have gone with a Cisco switch but they are pretty expensive even though you can find them for around $100-200 depending on the model on ebay. If I was studying for the CCNA, I would get a Cisco switch but for now this is working ok. This model doesn’t have any PoE ports but that is fine since I’m not running any cameras or multiple Access Points right now. If needed, I can just get a PoE injector in the future. The only problem I have with this model is that it is really hard to set up VLANs with the switch and Pfsense. For some reason, I spent days trying to get VLANs on the switch to work but it didn’t. Then I finally paired the switch to the Omada Software Controller and VLANs were working well. 

##Access Point: 
I just reused my old TP-Link AC1750 Smart WiFi Router (Archer A7). This was my all in one router before I switched to Pfsense. In the settings I set it to be only an AP. It gets the job done but some areas in my house don’t have any signal or are just really weak. In the future, I plan on running ethernet throughout the house to hook up multiple Access Points. Usually with Access Points, Unifi Access Points are known in the community to be the best. However, I will be getting an Omada Access Point since my switch is using Omada software. I don’t need a Software Controller because I am running an instance of the controller in Docker. 

##Servers:
For my servers, I decided to buy an Intel NUC 8 Mainstream Kit (NUC8i5BEK) and a Dell Optiplex 5040. Also I bought a Raspberry Pi 4 and on a side note, they are really expensive right now. Going for around $110 for a full kit plus where usually they went for $80  I went with an Intel NUC because it’s small, energy efficient, and barely makes any noise. For the Dell Optiplex 5040, I originally bought this PC to use as a Pfsense box but it was way too overkill. I found out you could upgrade the ram to 32gb so I decided to keep it to run some of my apps. 

Upgrades I did was add 32gb of DDR4 ram to the Intel NUC and a 1TB M.2 SSD MSI Spatium M470. For the Dell Optiplex 5040, I added a 256gb SSD that came with the Intel NUC and 32gb of DDR4 ram as well. I went with these two “servers” because they don’t take up much energy and are small.

I originally thought of buying a Dell R710 or R720 but that it just didn’t suit my requirements. In an ideal world, I would have a dedicated room to build a Server Rack Cabinet and have ethernet run throughout the house to this one room. Here, the temperature would be around 70 F to 75 F and it would be perfect for old enterprise equipment. R710 after 25 C or 86 F starts to really ramp up their fans and it sounds like a jet taking off. Another plus would be living in an area where energy is cheap but in my situation I have none of that. Before buying any equipment I had to lay out my requirements. 

My HomeLab was going to be next to a window in the garage and had to deal with temperatures ranging from 50 C to 90 C from the winter to the summer. There was also a size concern and since I was going to have most of my equipment on top of a cabinet. I couldn’t fit a server the size of a R710. Also with the R710 idling around 150 watts and up to 270 watts 24/7 that means it would cost around $190 a year to run. With kWh costing about 15 cents in my area it's about $16 a month to run a R710. 

##UPS:
For my UPS, I decided to buy APC - Back-UPS Pro 1350VA 10-Outlet/2-USB Battery Back-Up and Surge Protector - Black. It’s not the best since it doesn’t output Pure-sine-wave but simulated sine-wave. If possible I would like to get a CyberPower CP1500PFCLCD PFC Sinewave UPS System, 1500VA/1000W or APC UPS 1500VA Sine Wave UPS Battery Backup, BR1500MS2 but I would have to wait until they go on sale. 

##Price
Price with tax, sales tax is 10.25%

Rosewill 10/100/1000 Mbps Ethernet Card, Network Adapter Card: $14.32
Intel NUC: $275.63
Dell OptiPlex 5040 SFF: $129.27
TP-Link TL-SG3428: $154.34
APC - Back-UPS Pro 1350VA: $143.30
TEAMGROUP Elite DDR4 32GB Kit (2 x 16GB) 2400MHz PC4-19200 CL16: $101.42
MSI SPATIUM Series M.2 2280 1TB PCI-Express 4.0 x4, NVMe 1.3 3D: $104.73
Crucial 16GB (2 x 8GB) 240-Pin DDR3 SDRAM DDR3L 1600: $48.42

